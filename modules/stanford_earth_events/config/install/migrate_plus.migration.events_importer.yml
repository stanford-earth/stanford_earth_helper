uuid: 35b465b1-369c-4ec2-9a13-b4649b833415
langcode: en
status: true
dependencies: {  }
id: events_importer
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: earth_events
label: 'Events importer'
source:
  plugin: earth_url
  data_fetcher_plugin: file
  urls:
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=266'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1299'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1577'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1573'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1149'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1149&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1407'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1407&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1409'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1409&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1411'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1411&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1417'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1417&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=79'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=79&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=1493'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=935'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=2077'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=266&bookmarked'
    - 'http://events.stanford.edu/xml/drupal/v2.php?organization=530'
  data_parser_plugin: earth_simple_xml
  item_selector: /EventList/Event
  fields:
    -
      name: guid
      label: GUID
      selector: guid
    -
      name: title
      label: 'Event Title'
      selector: title
    -
      name: field_s_event_description
      label: Description
      selector: description
    -
      name: field_s_event_audience
      label: Audience
      selector: audiences
    -
      name: field_s_event_date
      label: Date
      selector: isoEventDate
    -
      name: field_s_event_image
      label: 'Image URL'
      selector: imageUrl
    -
      name: field_s_event_more_info
      label: 'More info'
      selector: url
    -
      name: field_s_event_public
      label: 'Public event?'
      selector: status
    -
      name: field_s_event_tags
      label: Tags
      selector: Keywords/tag
    -
      name: field_s_event_when
      label: 'When'
      selector: eventDate
    -
      name: field_s_event_where
      label: Location
      selector: locationText
  ids:
    guid:
      type: string
  constants:
    status: 1
    type: stanford_event
    timezone: 25200
    basic_html: basic_html
    minimal_html: minimal_html
    source_base_path: 'http://events.stanford.edu/'
    file_destination: 'public://stanford-event/importer/'
process:
  status: constants/status
  type: constants/type
  title: title
  field_s_event_description/value: field_s_event_description
  field_s_event_description/format: constants/basic_html
  field_s_event_audience/value: field_s_event_audience
  field_s_event_date/value:
    -
      plugin: format_date
      source: field_s_event_date
      from_format: 'Y-m-d H:i:s O'
      to_format: U
      timezone: 'Etc/GMT'
    -
      plugin: format_date
      from_format: U
      to_format: 'Y-m-d\TH:i:s'
      timezone: 'Etc/GMT'
  field_s_event_image:
    plugin: image_import
    source: field_s_event_image
    destination: constants/file_destination
    uid: 0
    title: title
    alt: ''
    skip_on_missing_source: true
  field_s_event_more_info/uri: field_s_event_more_info
  field_s_event_more_info/title: title
  field_s_event_public/value: field_s_event_public
  field_s_event_when/value: field_s_event_when
  field_s_event_where/value: field_s_event_where
  field_feed_url:
    plugin: entity_generate
    source: events_feed
    value_key: name
    bundle_key: vid
    bundle: events_feeds
    entity_type: taxonomy_term
    ignore_case: true
    default_values:
      description: Default description
destination:
  plugin: 'entity:node'
